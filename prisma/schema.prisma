generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model imgem_perfil {
  id                    String      @id @default(cuid())
  identificacao_perfil  String      @unique
  imagen               String
  usuario              usuario @relation(fields: [identificacao_perfil], references: [id])
}

model cliente {
  id                      String                       @id @default(cuid())
  nivel                  Int
  medicamentos           String
  identificacaoCliente    String 
  usuario                usuario                  @relation(fields: [identificacaoCliente], references: [id], map: "Cliente_identificacaoCliente_fkey")
  comentario_post        comentario_post[]
  notificacao_comentario notificacao_comentario[]

  @@index([identificacaoCliente], map: "Cliente_identificacaoCliente_fkey")
}

model comentario_post {
  id                       String                       @id @default(cuid())
  nota                    Int
  coteudo                 String
  ComentarioProfissinalID  String 
  createdAt               DateTime                 @default(now())
  ComentariosClienteID     String 
  profissional            profissional             @relation(fields: [ComentarioProfissinalID], references: [id], map: "Comentario_Post_ComentarioProfissinalID_fkey")
  cliente                 cliente                  @relation(fields: [ComentariosClienteID], references: [id], map: "Comentario_Post_ComentariosClienteID_fkey")
  notificacao_comentario  notificacao_comentario[]

  @@index([ComentarioProfissinalID], map: "Comentario_Post_ComentarioProfissinalID_fkey")
  @@index([ComentariosClienteID], map: "Comentario_Post_ComentariosClienteID_fkey")
}

model notificacao_comentario {
  id            String              @id @default(cuid())
  comentario      String
  notificacaoID    String 
  imgem_perfil    String
  cliente_id       String 
  cliente         cliente         @relation(fields: [cliente_id], references: [id], map: "Notificacao_Comentario_cliente_id_fkey")
  comentario_post comentario_post @relation(fields: [notificacaoID], references: [id], map: "Notificacao_Comentario_notificacaoID_fkey")

  @@index([cliente_id], map: "Notificacao_Comentario_cliente_id_fkey")
  @@index([notificacaoID], map: "Notificacao_Comentario_notificacaoID_fkey")
}

model profissional {
  id                           String                @id @default( cuid())
  imagens                     String?
  servico                     String
  raio                        Int
  grupo                       Int               @default(1)
  ambiente                    String            @db.Char(55)
  localatendimento            String            @db.Char(55)
  especial                    String            @default("SIM") @db.Char(55)
  idade                       Int
  identificacaoProfissionalId  String 
  especialidade               String
  qualificacao                String
  usuario                     usuario           @relation(fields: [identificacaoProfissionalId], references: [id], map: "Profissional_identificacaoProfissionalId_fkey")
  comentario_post             comentario_post[]

  @@index([identificacaoProfissionalId], map: "Profissional_identificacaoProfissionalId_fkey")
}

model usuario {
  id           String            @id @default(cuid())
  email        String    @unique
  name         String?
  cidade       String?
  SobreNome    String?
  idade        Int?
  telefone     String?
  genero       String?
  senha        String
  cliente      cliente[]
  imgem_perfil imgem_perfil?
  profissional profissional[]
}
